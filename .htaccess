RewriteEngine On

ErrorDocument 404 /404.php

RewriteRule ^home/?$ index.php		[L]
RewriteRule ^login/?$ login.php		[L]
RewriteRule ^logout/?$ login.php?doLogout		[L]

RewriteRule ^admin/?$ admin_home.php		[L]
RewriteRule ^admin/([^/]+)$ admin_$1		[L]

RewriteRule ^query.cgi/?$ query.php               [L]
RewriteRule ^ppd-o-matic.cgi/?$ ppd-o-matic.php               [L]

RewriteRule ^printers/?$ printer_list.php		[L]
RewriteRule ^printers/upload/?(\?[^/]*)?$ printer_upload.php$1		[L]

RewriteCond %{QUERY_STRING} ^(.*)$
#RewriteRule ^printer/([A-Za-z0-9\-_+.,()%]+)/([A-Za-z0-9\-_+.,()%]+) printer_detail.php?manufacturer=$1&model=$2&%1 [L]
RewriteRule ^printer/([\w\d\s_+.,()%-]*)/([\w\d\s_+.,()%-]*) /printer_detail.php?manufacturer=$1&model=$2&%1	[L]

RewriteRule ^drivers/?$ driver_list.php		[L]
RewriteRule ^drivers/mydrivers/?$ driver_myuploads.php		[L]
RewriteRule ^drivers/upload/?(\?[^/]*)?$ driver_upload.php$1		[L]
RewriteRule ^drivers/([^/]*)/?$ driver_display.php?driver=$1		[L]

RewriteRule ^database/?$ database.php		[L]
